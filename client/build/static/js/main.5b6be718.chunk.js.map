{"version":3,"sources":["components/common/input/Input.jsx","components/common/input/LabeledInput.jsx","components/common/form/Form.jsx","components/registration/RegistrationForm.jsx","store/actions/errorAction.js","store/actions/userAction.js","store/actions/registerAction.js","components/map/Map.jsx","components/map/MapContainer.jsx","components/registration/RegistrationFormContainer.jsx","pages/common/registration/RegistrationPage.jsx","components/login/LoginForm.jsx","utils/setToken.js","store/actions/booksAction.js","store/actions/chatAction.js","store/actions/channelAction.js","store/store.js","store/reducers/errorReducer.js","store/reducers/loginReducer.js","store/reducers/usersReducer.js","store/reducers/registrationReducer.js","store/reducers/booksReducer.js","store/reducers/bookReducer.js","store/reducers/chatRoomReducer.js","store/reducers/messagesReducer.js","store/reducers/messageReducer.js","store/reducers/socketIdReducer.js","store/reducers/channelReducer.js","store/reducers/activeChannelReducer.js","store/actions/loginAction.js","components/login/LoginFormContainer.jsx","pages/common/login/LoginPage.jsx","components/home/Home.jsx","components/home/HomeContainer.jsx","components/topBar/TopBar.jsx","components/topBar/TopBarContainer.jsx","pages/common/home/HomePage.jsx","pages/user/userPage/UserPage.jsx","components/myBooks/MyBooks.jsx","components/myBooks/MyBooksContainer.jsx","pages/user/myBooks/MyBooksPage.jsx","components/profile/Profile.jsx","components/profile/ProfileContainer.jsx","pages/common/profile/ProfilePage.jsx","components/chatDetail/ChatDetail.jsx","pages/user/chat/ChatPage.jsx","components/chatDetail/ChatDetailContainer.jsx","pages/user/chatDetail/ChatDetailPage.jsx","components/planner/Planner.jsx","components/planner/PlannerContainer.jsx","pages/user/planner/PlannerPage.jsx","pages/user/UserIndex.jsx","pages/Router.jsx","App.js","serviceWorker.js","index.js"],"names":["Input","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","bind","assertThisInitialized","handleOptionChange","handleChangeNumber","_this2","_this$props","type","multi","noResultsText","onChange","readonly","multiOptionsValue","readOnly","options","optionValue","validation","withPortal","placeHolder","isInvalid","multiSelectOptions","errorMsg","placeholder","rest","objectWithoutProperties","react_default","a","createElement","react_datepicker_es","disabled","className","concat","selected","value","moment","locale","peekNextMonth","showMonthDropdown","showYearDropdown","assign","map","o","i","key","label","checked","e","target","react_select_esm","name","isSearchable","classNamePrefix","newValue","console","log","_this$props2","validator","isInt","Number","Component","LabeledInput","input","rawValue","beforeRawValue","outer","inner","afterRawValue","labelClass","input_Input","react","onClick","preventDefault","undefined","Form","generateInput","class","onSubmit","schema","s","formData","path","pk","input_LabeledInput","dotProp","get","v","set","RegistrationForm","t","action","form_Form","errorAction","error","userAction","getUsersList","dispatch","axios","then","users","catch","err","actions_registerAction","r","history","actionId","post","password","password2","email","userType","location","registartionAction","registerReceivedAction","response","data","Map","withScriptjs","withGoogleMap","lib","defaultZoom","center","SearchBox","ref","onSearchBoxMounted","bounds","controlPosition","window","google","maps","ControlPosition","TOP_LEFT","onPlacesChanged","inputPlaceholder","inputStyle","boxSizing","MozBoxSizing","border","width","height","marginTop","padding","borderRadius","boxShadow","fontSize","outline","textOverflow","style","locations","click","position","lat","lng","displayInfo","cursor","redirectToProfile","_id","onMarkerMounted","onPositionChanged","MapContainer","state","markers","serched","handleMapMounted","handleBoundsChanged","handleSearchBoxMounted","handlePlacesChanged","_map","prevState","setLocation","setState","getBounds","getCenter","searchBox","_searchBox","places","getPlaces","geometry","place","mapCenter","length","map_Map","onMapMounted","onBoundsChanged","googleMapURL","loadingElement","containerElement","mapElement","RegistrationFormContainer","register","Math","random","registerAction","redirect","prevProps","Redirect","to","registration_RegistrationForm","map_MapContainer","withRouter","connect","registrationInfo","RegistrationPage","registration_RegistrationFormContainer","LoginForm","errors","setToken","token","defaults","headers","common","getBooksList","books","booksAction","createBook","date","FormData","append","title","author","description","isbn","image","updateBookStatus","id","getChatRoomsList","chatRooms","chatAction","createRoom","roomName","getChatDetails","chatId","sendMsg","messages","getMessages","channelId","receiveSocket","socketID","CHANGE_CHANNEL","getChannels","channels","channelAction","createChannel","channel","changeChannel","persistConfig","storage","store","createStore","persistReducer","_len","arguments","reducers","Array","_key","newState","_i","reducer","stackReducers","combineReducers","humps","camelizeKeys","objectSpread","user","SET_CURRENT_USER","toConsumableArray","LOGOUT","currentUser","userReducer","book","message","activeChannel","tokenReducer","composeWithDevTools","applyMiddleware","thunk","persistor","persistStore","setCurrentUser","decoded","loginAction","logout","localStorage","removeItem","push","login","res","setItem","jwt_decode","pathname","getCurrentUser","LoginFormContainer","login_LoginForm","LoginPage","login_LoginFormContainer","Home","openChat","match","slice","sort","b","Date","created","el","src","filename","format","HomeContainer","userId","private","TopBar","userName","data-toggle","data-target","aria-expanded","aria-controls","TopBarContainer","split","topBar_TopBar","ownProps","HomePage","Link","home_HomeContainer","UserPage","topBar_TopBarContainer","children","MyBooks","imageSelectedHandler","htmlFor","MyBooksContainer","event","files","myBooks_MyBooks","filter","MyBooksPage","myBooks_MyBooksContainer","Profile","ProfileContainer","profile_Profile","find","ProfilePage","profile_ProfileContainer","ChatDetail","ChatDetailContainer","chatMsg","msgBy","chatDetail_ChatDetail","ChatDetailPage","chatDetail_ChatDetailContainer","params","chatListId","Planner","onDragStart","ev","dataTransfer","setData","onDragOver","onDrop","cat","getData","changed","unread","inProgess","complete","forEach","draggable","backgroundColor","bgcolor","PlannerContainer","status","planner_Planner","PlannerPage","planner_PlannerContainer","UserIndex","userPage_UserPage","Switch","Route","exact","component","Router","BrowserRouter","basename","App","pages_Router","Boolean","hostname","ReactDOM","render","es","integration_react","loading","rel","href","integrity","crossOrigin","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5b6be718.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport moment from 'moment';\r\nimport 'moment/locale/cs';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport validator from 'validator';\r\nimport Select from \"react-select\";\r\n\r\nclass Input extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleOptionChange = this.handleOptionChange.bind(this);\r\n    this.handleChangeNumber = this.handleChangeNumber.bind(this);\r\n  }\r\n \r\n  render() {\r\n    const {type,multi,noResultsText,onChange,readonly,multiOptionsValue, readOnly, options, validation, optionValue,placeHolder,withPortal, isInvalid, errorMsg,multiSelectOptions,placeholder,...rest} = this.props;\r\n    let input;\r\n\r\n    if (type === \"date\"){\r\n      input =  <DatePicker readOnly={readonly ? true : false} disabled={readonly ? true : false} className={`${readonly ? 'successInput' : ''}`} withPortal={withPortal ? true : false} selected={this.props.value || moment()}  locale=\"cs\" onChange={onChange} peekNextMonth showMonthDropdown showYearDropdown/>\r\n    }\r\n    else if (type === \"dropdown\"){\r\n      input =\r\n      <select className={`input-style ${isInvalid ? isInvalid : ''}`} onChange={this.handleChange} {...rest}>\r\n      {options.map((o,i)=><option  key={i} value={o.value}>{o.label}</option>)}\r\n      </select>\r\n    }\r\n    else if (type === \"email\"){\r\n      input = <input className={`input-style ${isInvalid ? isInvalid : ''} ${readonly ? 'successInput' : ''}`} type={type||'text'} readOnly={readonly ? true : false} onChange={this.handleChange} {...rest}/>\r\n    }\r\n\r\n    else if (type === \"checkbox\"){ \r\n      input = <input readOnly={readonly ? true : false} checked={this.props.value||false} type={type} onChange={readonly ? {} : e=>onChange(e.target.checked)} {...rest}/>\r\n    }\r\n    else if (type === \"radio\"){\r\n      input = <input \r\n      checked={this.props.value===optionValue} \r\n      type={type} \r\n      onChange={e=>this.handleOptionChange(e, optionValue)} \r\n      {...rest}/>\r\n    }\r\n    else if (type === \"positiveNumber\"){ \r\n      input = <input className={`input-style ${this.props.isInvalid}`}  type={'text'} onChange={this.handleChangeNumber} {...rest}/>\r\n    }\r\n    else if (type === \"select\"){ \r\n      input = <Select\r\n      name=\"filters\"\r\n      placeholder={placeholder}\r\n      options={multiSelectOptions}\r\n      onChange={e=>onChange(e)}\r\n      isSearchable\r\n      classNamePrefix=\"react-select\"\r\n      className={`react-select-container  ${isInvalid ? isInvalid : ''}`}\r\n      value={multiOptionsValue}\r\n      multi={multi}\r\n      noResultsText={noResultsText}\r\n      />\r\n\r\n    }\r\n    else{\r\n      input = <input readOnly={(readOnly||readonly) ? true : false} className={`input-style  ${isInvalid ? isInvalid : ''} ${readonly ? 'successInput' : ''}`} type={type||'text'} onChange={this.handleChange} {...rest}/>\r\n    }\r\n    return input;\r\n  }\r\n\r\n  handleOptionChange(e, optionValue) {\r\n    const {onChange} = this.props;\r\n    if (e.target.checked) {\r\n      onChange(optionValue);\r\n    }\r\n  };\r\n\r\n  handleChange(e){\r\n    const newValue = e.target.value;\r\n    console.log(newValue);\r\n    const {onChange, validation} = this.props;\r\n    if (!validation || validation(newValue)) {\r\n      onChange(newValue);\r\n    }\r\n  }\r\n\r\n  handleChangeNumber(e){\r\n    let newValue = e.target.value;\r\n    const {onChange} = this.props;\r\n\r\n    if((validator.isInt(newValue)&&newValue>=0)) {\r\n      onChange(Number(newValue));\r\n      return;\r\n    }\r\n    if (newValue==='') {\r\n      onChange(newValue);\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default Input;\r\n","import React, { Component,Fragment  } from 'react';\r\nimport Input from './Input';\r\n\r\n\r\nclass LabeledInput extends Component {\r\n\r\n  render() {\r\n\r\n    let input;\r\n    const {name, rawValue, beforeRawValue, outer,inner,errorMsg,afterRawValue,labelClass,  ...rest} = this.props;\r\n    if (this.props.outer){\r\n      input =    <span className={outer}>\r\n      <Input {...rest} /> \r\n      {this.props.inner}\r\n      </span>\r\n    }\r\n    else{\r\n      input =   <Input {...rest} /> \r\n    }\r\n   \r\n    return (\r\n      <Fragment>\r\n        <label onClick={e => this.props.type === 'date' ?  e.preventDefault(e) : {}} \r\n        className={`label-style ${labelClass!==undefined ? labelClass : ''}`}>\r\n          {beforeRawValue}\r\n        <span>{name}</span>\r\n          {input}\r\n          {rawValue}\r\n        </label>\r\n        {errorMsg ? <div className=\"errorMsg\">{errorMsg}</div> : null}\r\n        {afterRawValue}\r\n      </Fragment>\r\n      );\r\n  }\r\n}\r\n \r\nexport default LabeledInput;\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport LabeledInput from 'components/common/input/LabeledInput';\r\nimport dotProp from 'dot-prop-immutable';\r\n\r\nclass Form extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.generateInput=this.generateInput.bind(this);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <form className={this.props.class} onSubmit={e=>e.preventDefault()}>\r\n        {this.props.schema.map(this.generateInput)}\r\n      </form>\r\n    );\r\n  }\r\n\r\n  generateInput(s){\r\n    const { onChange, formData } = this.props;  \r\n    const { path ,pk, ...rest} = s;\r\n    if (s.type==='raw') {return s.value;}\r\n    return  <LabeledInput\r\n              {...rest}\r\n              key={path+(s.optionValue||'')}\r\n              value={dotProp.get(formData, path)}\r\n              onChange={v=>onChange(dotProp.set(formData, s.path, v))}\r\n            />\r\n  }\r\n}  \r\n\r\nexport default Form; \r\n    ","import React, { Component } from 'react';\r\nimport Form from 'components/common/form/Form';  \r\n \r\nclass RegistrationForm extends Component {\r\n\r\n\trender() { \r\n\t\tconst {t, formData, onChange, action} = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"mt-30 mb-30 panel panel-default\">\r\n\t\t\t\t<div className=\"outer\"> \r\n\t\t\t\t\t<Form\r\n\t\t\t\t\tformData={formData} \r\n\t\t\t\t\tonChange={onChange}  \r\n\t\t\t\t\tschema={[\r\n\t\t\t\t\t\t{name:'name', path:'name'},\r\n\t\t\t\t\t\t{name:'email', path:'email', type:'email'}, \r\n\t\t\t\t\t\t{name:'password', path:'password', type:'password'},\r\n\t\t\t\t\t\t{name:'password2', path:'password2', type:'password'},\r\n\t\t\t\t\t\t]} \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button onClick={()=>{action()}}> {'register'} </button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> \r\n\t\t\t);  \r\n\t}\r\n}\r\n\r\nexport default RegistrationForm;\r\n","export const ERROR_RECEIVED = 'ERROR_RECEIVED';\r\n\r\nexport default (error) => {\r\n  return {\r\n    type: ERROR_RECEIVED,\r\n    error: error,\r\n  }; \r\n} ","import axios from 'axios';\r\n\r\nexport const USERS_LIST_RECEIVED = 'USERS_LIST_RECEIVED';\r\n\r\n\r\n\r\nexport const usersListReceivedAction = (users) => {\r\n  return {\r\n    type: USERS_LIST_RECEIVED,\r\n    users:users\r\n  };\r\n}\r\n\r\n\r\n\r\nexport const getUsersList = () => dispatch => {\r\n  axios.get('/api/users/usersList/')\r\n  .then(e => dispatch(usersListReceivedAction(e)))\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nexport default {\r\n  getUsersList \r\n}\r\n  ","import axios from 'axios';\r\nimport errorAction from './errorAction';\r\nimport {getUsersList} from './userAction';\r\nexport const REGISTRATION_RECEIVED = 'REGISTRATION_RECEIVED';\r\n\r\nexport const registerReceivedAction = (actionId) => {\r\n  return {\r\n    type: REGISTRATION_RECEIVED,\r\n    registartionAction:actionId\r\n  };\r\n}\r\n\r\n\r\nexport default (r,history,actionId) => dispatch => {\r\n\r\n  axios.post('/api/users/register/', {\r\n    name:r.name,\r\n    password:r.password,\r\n    password2:r.password2,\r\n    email:r.email,\r\n    userType:'0',\r\n    location:r.location\r\n  }).then(() => dispatch(registerReceivedAction(actionId)))\r\n    .catch(err => dispatch(errorAction(err.response.data)))\r\n}","import React from \"react\";\r\nimport { withScriptjs, withGoogleMap, GoogleMap,MarkerWithLabel,Marker,InfoWindow,FaAnchor } from \"react-google-maps\";\r\nimport { SearchBox } from \"react-google-maps/lib/components/places/SearchBox\";\r\nimport { withRouter } from 'react-router';\r\n\r\n\r\nconst Map = withScriptjs(withGoogleMap((props) =>{\r\n  const INPUT_STYLE = {\r\n    boxSizing: `border-box`,\r\n    MozBoxSizing: `border-box`,\r\n    border: `1px solid transparent`,\r\n    width: `240px`,\r\n    height: `32px`,\r\n    marginTop: `27px`,\r\n    padding: `0 12px`,\r\n    borderRadius: `1px`,\r\n    boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\r\n    fontSize: `14px`,\r\n    outline: `none`,\r\n    textOverflow: `ellipses`,\r\n  };\r\n\r\n  return (\r\n    <GoogleMap\r\n    defaultZoom={14}\r\n    center={props.center}\r\n    >\r\n    <SearchBox\r\n    ref={props.onSearchBoxMounted}\r\n    bounds={props.bounds}\r\n    controlPosition={window.google.maps.ControlPosition.TOP_LEFT}\r\n    onPlacesChanged={props.onPlacesChanged}\r\n    inputPlaceholder=\"Customized your placeholder\"\r\n    inputStyle={INPUT_STYLE}\r\n    >\r\n    <input\r\n    type=\"text\"\r\n    placeholder=\"Find Place\"\r\n    style={{\r\n      boxSizing: `border-box`,\r\n      border: `1px solid transparent`,\r\n      width: `240px`,\r\n      height: `32px`,\r\n      marginTop: `27px`,\r\n      padding: `0 12px`,\r\n      borderRadius: `3px`,\r\n      boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\r\n      fontSize: `14px`,\r\n      outline: `none`,\r\n      textOverflow: `ellipses`,\r\n    }}\r\n    />\r\n    </SearchBox>\r\n    {props.locations!==undefined ? props.locations.map((e,i) => <Marker\r\n      onClick={()=>props.click(i)}\r\n      position={{lat: Number(props.locations[i][0]), lng:  Number(props.locations[i][1])}} \r\n      >\r\n      {props.displayInfo!==undefined && props.displayInfo===i ? <InfoWindow >\r\n        <span style={{cursor:'pointer'}} onClick={()=>props.redirectToProfile(props.locations[i][2].name,props.locations[i][2]._id)}>{props.locations[i][2].name}</span></InfoWindow> : null}\r\n        </Marker> ) : <Marker\r\n        ref={props.onMarkerMounted} onPositionChanged={props.onPositionChanged}\r\n        position={props.center} \r\n      >\r\n    </Marker>}\r\n    </GoogleMap>\r\n    );\r\n}\r\n))\r\n\r\nexport default Map; ","import React, { Component, Fragment } from 'react';\r\nimport Map from './Map';\r\n\r\n\r\nclass MapContainer extends Component { \r\n\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tbounds: null,\r\n\t\t\tcenter: {\r\n\t\t\t\tlat:  50.29449229999999,\r\n\t\t\t\tlng: 18.67138019999993,\r\n\t\t\t},\r\n\t\t\tmarkers: [],\t\t\r\n\t\t\tlat:'',\r\n\t\t\tlng:'',\r\n\t\t\tserched:false\r\n\t\t} \r\n\t\tthis.handleMapMounted = this.handleMapMounted.bind(this);\r\n\t\tthis.handleBoundsChanged = this.handleBoundsChanged.bind(this);\r\n\t\tthis.handleSearchBoxMounted = this.handleSearchBoxMounted.bind(this);\r\n\t\tthis.handlePlacesChanged = this.handlePlacesChanged.bind(this);\r\n\t};  \r\n\thandleMapMounted(map) {\r\n\t\tthis._map = map;\r\n\t}\r\n\tcomponentDidUpdate(prevState) {\r\n\t\tif (prevState.lat !== this.state.lat && prevState.lng !== this.state.lng && this.state.serched===true && this.props.setLocation!==undefined) {\r\n\t\t\tthis.props.setLocation(this.state.lat,this.state.lng);\r\n\t\t\tthis.setState({serched:false})\r\n\t\t}\r\n\t}\r\n\thandleBoundsChanged() {\r\n\t\tthis.setState({\r\n\t\t\tbounds: this._map.getBounds(),\r\n\t\t\tcenter: this._map.getCenter(),\r\n\t\t});\r\n\t}\r\n\r\n\thandleSearchBoxMounted(searchBox) {\r\n\t\tthis._searchBox = searchBox;\r\n\t}\r\n\r\n\thandlePlacesChanged() {\r\n\r\n\t\tconst places = this._searchBox.getPlaces();\r\n\t\tthis.setState({lat:(places[0].geometry.location||{}).lat(),lng:(places[0].geometry.location||{}).lng()})\r\n\t\tconst markers = places.map(place => ({\r\n\t\t\tposition: place.geometry.location,\r\n\t\t}));\r\n\r\n\t\tconst mapCenter = markers.length > 0 ? markers[0].position : this.state.center;\r\n\r\n\t\tthis.setState({\r\n\t\t\tcenter: mapCenter,\r\n\t\t\tmarkers,\r\n\t\t\tserched:true\r\n\t\t});\r\n\t}\r\n\r\n\trender() { \r\n\t\tconst {setLocation,...rest} = this.props;\r\n\t\treturn (\r\n\t\t\t<Map  onMapMounted={this.handleMapMounted}\r\n\t\t\tonBoundsChanged={this.handleBoundsChanged} markers={this.state.markers}\r\n\t\t\tonSearchBoxMounted={this.handleSearchBoxMounted}\r\n\t\t\tbounds={this.state.bounds} center={this.state.center}\r\n\t\t\tonPlacesChanged={this.handlePlacesChanged} \r\n\t\t\tgoogleMapURL={`https://maps.googleapis.com/maps/api/js?key=AIzaSyBj4blO0jFHddFGpPJA6bnFPw_QWpBL12U&v=3.exp&libraries=geometry,drawing,places`}\r\n\t\t\tloadingElement={<div style={{ height: `100%` }} />}\r\n\t\t\tcontainerElement={<div style={{ height: `600px`, width: `600px` }} />}\r\n\t\t\tmapElement={<div style={{ height: `100%` }} />} {...rest}/>\r\n\t\t\t);\r\n\t} \r\n}\r\n\r\n\r\nexport default MapContainer; ","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport RegistrationForm from './RegistrationForm';\r\nimport registerAction from 'store/actions/registerAction';\r\nimport { withRouter } from 'react-router'\r\nimport { Redirect } from 'react-router-dom';\r\nimport MapContainer from 'components/map/MapContainer';\r\n\r\nclass RegistrationFormContainer extends Component { \r\n\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tname: '',\r\n\t\t\temail: '', \r\n\t\t\tpassword: '',\r\n\t\t\tpassword2:'',\r\n\t\t\tredirect:false,\r\n\t\t\tlat:'',\r\n\t\t\tlng:''\r\n\r\n\t\t} \r\n\t};     \r\n\r\n\tsetLocation = (lat,lng) => {\r\n\t\tthis.setState({location:`(${Number(lat)},${Number(lng)})`});\r\n\t}\r\n\tregister = () => {\r\n\t\tconst actionId =  Math.random();\r\n\r\n\t\tthis.props.registerAction(this.state,this.props.history,actionId);\r\n\r\n\t}\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.registartionAction !== this.props.registartionAction) {\r\n\t\t\tthis.setState({redirect:true})\r\n\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconsole.log(this.state.location);\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t{this.state.redirect===true?<Redirect to='/' />:null}\r\n\t\t\t\t<RegistrationForm \r\n\t\t\t\tformData={this.state} \r\n\t\t\t\tonChange={v=>this.setState(v)} \r\n\t\t\t\taction={this.register} />\r\n\t\t\t\t<div>{this.state.location}</div> \r\n\t\t\t\t<MapContainer setLocation={this.setLocation} />\r\n\t\t\t</Fragment>\r\n\t\t\t);\r\n\t}\r\n}\r\nfunction mapStateToProps (state) {\r\n\treturn {\r\n\t\tregistartionAction:state.registartionAction\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tregisterAction: (registrationInfo,history,actionId) => dispatch(registerAction(registrationInfo,history,actionId))\r\n\t}\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(RegistrationFormContainer));\r\n","import React, { Component } from 'react';\r\nimport RegistrationFormContainer from 'components/registration/RegistrationFormContainer';\r\n\r\nclass RegistrationPage extends Component {\r\n\r\n  render() {\r\n    return (\r\n        <RegistrationFormContainer />\r\n    );\r\n  } \r\n}\r\n\r\nexport default RegistrationPage;\r\n    ","import React, { Component } from 'react';\r\nimport Form from 'components/common/form/Form';  \r\n\r\nclass LoginForm extends Component {\r\n\r\n\r\n\trender() { \r\n\r\n\tconst {t, formData, onChange, action,errors} = this.props;\r\n\t\treturn (\r\n\t\t<div className=\"mt-30 mb-30 panel panel-default\">\r\n\t\t\t<div className=\"outer\"> \r\n\r\n\t\t\t\t<Form\r\n\t\t\t\tformData={formData} \r\n\t\t\t\tonChange={onChange}  \r\n\t\t\t\tschema={[\r\n\t\t\t\t{name:'email', path:'email', type:'email'}, \r\n\t\t\t\t{name:'password', path:'password', type:'password'},\r\n\r\n\t\t\t\t]} \r\n\t\t\t\t/>\r\n\t\t\t\t<div onClick={()=>onChange({email:'qq@q.pl', password:'qq'})}>qq</div>\r\n\t\t\t\t<div onClick={()=>onChange({email:'w@w.pl', password:'ww'})}>ww</div>\t\r\n\t\t\t\t<button onClick={()=>{action()}}> {'register'} </button>\r\n\t\t\t</div>\r\n\t\t</div> \r\n\t\t);  \t\r\n\t}\r\n}\r\n\r\nexport default LoginForm;\r\n","import axios from 'axios';\r\n\r\nconst setToken = token => {\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n\r\nexport default setToken;\r\n","import axios from 'axios';\r\nimport errorAction from './errorAction';\r\nexport const BOOK_RECEIVED = 'BOOK_RECEIVED';\r\nexport const BOOKS_RECEIVED = 'BOOKS_RECEIVED';\r\n\r\nexport const booksReceivedAction = (books) => {\r\n  console.log(books);  \r\n  return {\r\n    type: BOOKS_RECEIVED,\r\n    books\r\n  };\r\n}\r\n\r\nexport const bookReceivedAction = (book) => {\r\n  return {\r\n    type: BOOK_RECEIVED,\r\n    book\r\n  }; \r\n}\r\nexport const createBook = (r,date) => dispatch => {\r\n  console.log(r);\r\n  let formData = new FormData();\r\n  formData.append('title', r.title);\r\n  formData.append('author', r.author);\r\n  formData.append('description', r.description);\r\n  formData.append('isbn', r.isbn);\r\n  formData.append('image', r.image);\r\n  formData.append('created', date);\r\n\r\n    console.log(formData);\r\n  axios.post('/api/books/', formData, 'multipart/form-data')\r\n  .then(() => dispatch(getBooksList()))\r\n    .catch(err => dispatch(errorAction(err.response.data)))\r\n}\r\n\r\nexport const getBooksList = () => dispatch => {\r\n  axios.get('/api/books/')\r\n  .then(e => dispatch(booksReceivedAction(e.data)))\r\n  .catch(err => console.log(err))\r\n }\r\n \r\n export const updateBookStatus = (id,state) => dispatch => {\r\n  axios.post('/api/books/'+id,{state})\r\n  .then(e => dispatch(getBooksList()))\r\n  .catch(err => console.log(err))\r\n }\r\n// export const getBook = (id) => dispatch => {\r\n//   axios.get('/api/books/'+id+'/')\r\n//   .then(e => dispatch(bookReceivedAction(e.data)))\r\n//   .catch(err => console.log(err))\r\n// }\r\nexport default {\r\n createBook,\r\n getBooksList,\r\n updateBookStatus\r\n}   ","import axios from 'axios';\r\n\r\nexport const CHAT_ROOMS_RECEIVED = 'CHAT_ROOMS_RECEIVED';\r\nexport const MESSAGES_RECEIVED = 'MESSAGES_RECEIVED';\r\nexport const MESSAGE_RECEIVED = 'MESSAGE_RECEIVED';\r\nexport const ADD_MESSAGE = 'ADD_MESSAGE';\r\nexport const RECEIVE_SOCKET = 'RECEIVE_SOCKET';\r\n\r\nexport const chatRoomsReceivedAction = (chatRooms) => {\r\n  return {\r\n    type: CHAT_ROOMS_RECEIVED,\r\n    chatRooms:chatRooms\r\n  };\r\n}\r\nexport const messagesReceivedAction = (messages) => {\r\n  console.log(messages.data);\r\n  return {\r\n    type: MESSAGES_RECEIVED,\r\n    messages:messages.data\r\n  };\r\n}\r\nexport const addMessageAction = (messages) => {\r\n  return {\r\n    type: ADD_MESSAGE,\r\n    messages:messages.data\r\n  };\r\n}\r\n// export const getMessage  = (messages)  => {\r\n//    return {\r\n//     type: MESSAGE_RECEIVED,\r\n//     messages:messages\r\n//   };\r\n// }  \r\n\r\nexport const receiveSocket = (socketID) =>{\r\n  console.log(socketID);\r\n  return {\r\n    type: RECEIVE_SOCKET,\r\n    socketID\r\n  } \r\n}\r\n\r\nexport const getChatRoomsList  = () => dispatch => {\r\n  axios.get('/api/chats/list/')\r\n  .then(e => dispatch(chatRoomsReceivedAction(e)))\r\n  .catch(err => console.log(err))\r\n}  \r\n\r\n\r\nexport const createRoom  = (roomName) => dispatch => {\r\n  axios.post('/api/chats/create/',{roomName})\r\n  .then(e => dispatch(getChatRoomsList()))\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nexport const getChatDetails  = (chatId) => dispatch => {\r\n  axios.post('/chats/detail/'+chatId)\r\n  .then(e => console.log(e))\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nexport const sendMsg  = (r,chatId) => dispatch => {\r\n  console.log(r,chatId);\r\n  axios.post('/api/chats/newmessage', r)\r\n  .then(e => dispatch(addMessageAction(e)))\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nexport const getMessages  = (channelId) => dispatch => {\r\n  axios.get('/api/chats/messages/'+channelId)\r\n  .then(e => dispatch(messagesReceivedAction(e)))\r\n  .catch(err => console.log(err))\r\n}\r\n\r\n\r\nexport default {\r\ncreateRoom,\r\ngetChatRoomsList,\r\ngetChatDetails,\r\nsendMsg,\r\ngetMessages,\r\nreceiveSocket\r\n}\r\n    ","import axios from 'axios';\r\nimport errorAction from './errorAction';\r\nimport {getCurrentUser} from './userAction';\r\nimport setToken from '../../utils/setToken';\r\nimport jwt_decode from 'jwt-decode';\r\nexport const CHANNELS_RECEIVED = 'CHANNELS_RECEIVED';\r\nexport const CHANGE_CHANNEL = 'CHANGE_CHANNEL';\r\n\r\nexport const channelsReceivedAction = (channels) => {\r\n  return {\r\n    type: CHANNELS_RECEIVED,\r\n    channels\r\n  };\r\n}\r\n\r\nexport function changeChannel(channel) {\r\n  return {\r\n    type: CHANGE_CHANNEL,\r\n    channel\r\n  };\r\n}\r\n\r\nexport const createChannel  = (channel) => dispatch => {\r\n  axios.post('/api/channel/new_channel',{name:channel})\r\n  .then(e => dispatch(getChannels()))\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nexport const getChannels  = () => dispatch => {\r\n  axios.get('/api/channel/list')\r\n  .then(e => dispatch(channelsReceivedAction(e)))\r\n  .catch(err => console.log(err))\r\n}\r\nexport default {\r\ncreateChannel,\r\ngetChannels,\r\nchangeChannel\r\n} ","import { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage' \r\nimport errorReducer from './reducers/errorReducer';\r\nimport loginReducer from './reducers/loginReducer';\r\nimport userReducer from './reducers/userReducer';\r\nimport usersReducer from './reducers/usersReducer';\r\nimport registrationReducer from './reducers/registrationReducer';\r\nimport booksReducer from './reducers/booksReducer';\r\nimport bookReducer from './reducers/bookReducer';\r\nimport chatRoomReducer from './reducers/chatRoomReducer';\r\nimport messagesReducer from './reducers/messagesReducer';\r\nimport messageReducer from './reducers/messageReducer';\r\nimport socketIdReducer from './reducers/socketIdReducer';\r\nimport channelReducer from './reducers/channelReducer';\r\nimport activeChannelReducer from './reducers/activeChannelReducer';\r\nimport tokenReducer from './reducers/tokenReducer';\r\n\r\nconst stackReducers = (...reducers) => {\r\n  return (state=[], action) => {\r\n    let newState = state;\r\n    for(const reducer of reducers){\r\n      newState = reducer(newState, action);\r\n    }\r\n    return newState;\r\n  }\r\n}\r\nconst persistConfig = {\r\n key: 'root',\r\n storage\r\n}\r\n\r\nexport const initialState = {\r\n  token:null,\r\n\terror:[],\r\n\tuser:[],\r\n  currentUser:{},\r\n  users:[],\r\n  registartionAction:null,\r\n  books:[],\r\n  book:null,\r\n  chatRooms:[],\r\n  messages:[],\r\n  message:{},\r\n  socketID:null,\r\n  channels:[],\r\n  activeChannel:{}\r\n}\r\n\r\nexport const store = createStore(\r\n  persistReducer(persistConfig,stackReducers(\r\n    combineReducers({\r\n      error:errorReducer,\r\n      user:loginReducer,\r\n      currentUser:userReducer,\r\n      users:usersReducer,\r\n      registartionAction:registrationReducer,\r\n      books:booksReducer,\r\n      book:bookReducer,\r\n      chatRooms:chatRoomReducer,\r\n      messages:messagesReducer,\r\n      message:messageReducer,\r\n      socketID: socketIdReducer,\r\n      channels:channelReducer,\r\n      activeChannel:activeChannelReducer,\r\n      token:tokenReducer\r\n\r\n\r\n    }),\r\n    )),\r\n  initialState,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  ));\r\n\r\nexport const persistor = persistStore(store);\r\n","import {ERROR_RECEIVED} from '../actions/errorAction';\r\nimport humps from 'humps';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case ERROR_RECEIVED:\r\n    const error =  humps.camelizeKeys(action.error)\r\n      return {...state,error};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n   ","import isEmpty from '../../validation/isEmpty';\r\n\r\nimport { SET_CURRENT_USER,LOGOUT } from '../actions/loginAction';\r\n\r\n\r\nexport default function(state = [], action) {\r\n  switch (action.type) {\r\n    case SET_CURRENT_USER:\r\n      return [...state,action.user]\r\n         case LOGOUT:\r\n      return action.user\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n ","import { USERS_LIST_RECEIVED } from '../actions/userAction';\r\n\r\nexport default function(state = [], action) {\r\n  switch (action.type) {\r\n    case USERS_LIST_RECEIVED:\r\n      return action.users.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n  ","import { REGISTRATION_RECEIVED } from '../actions/registerAction';\r\n\r\nexport default function(state = null, action) {\r\n  switch (action.type) {\r\n    case REGISTRATION_RECEIVED:\r\n      return action.registartionAction\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n  ","import { BOOKS_RECEIVED } from '../actions/booksAction';\r\n\r\nexport default function(state = [], action) {\r\n  switch (action.type) {\r\n    case BOOKS_RECEIVED:\r\n      return action.books;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n   ","import { BOOK_RECEIVED } from '../actions/booksAction';\r\n\r\nexport default function(state = null, action) {\r\n  switch (action.type) {\r\n    case BOOK_RECEIVED:\r\n      return action.book;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n  ","import { CHAT_ROOMS_RECEIVED } from '../actions/chatAction';\r\n\r\nexport default function(state = [], action) {\r\n  switch (action.type) {\r\n    case CHAT_ROOMS_RECEIVED:\r\n      return action.chatRooms\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n ","import { MESSAGES_RECEIVED } from '../actions/chatAction';\r\nimport { ADD_MESSAGE } from '../actions/chatAction';\r\n\r\nexport default function(state = [], action) {\r\n  switch (action.type) {\r\n //  \tcase ADD_MESSAGE:\r\n\t// return Object.assign({}, state, {\r\n //        messages: [{\r\n //          text: action.messages.text,\r\n //          id:action.messages._id\r\n    \r\n //        }, ...state.messages]\r\n //      })\r\n\r\n    case MESSAGES_RECEIVED:\r\n    console.log(state);\r\n      return action.messages\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n     ","import { MESSAGE_RECEIVED } from '../actions/chatAction';\r\n\r\nexport default function(state = null, action) {\r\n  switch (action.type) {\r\n    case MESSAGE_RECEIVED:\r\n      return action.message;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n  ","import { RECEIVE_SOCKET } from '../actions/chatAction';\r\n\r\nexport default function(state = null, action) {\r\n  switch (action.type) {\r\n    case RECEIVE_SOCKET:\r\n      return action.socketID\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n ","import { CHANNELS_RECEIVED } from '../actions/channelAction';\r\n\r\nexport default function(state = [], action) {\r\n  switch (action.type) {\r\n    case CHANNELS_RECEIVED:\r\n    console.log(state);\r\n      return action.channels.data\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n ","import { CHANGE_CHANNEL } from '../actions/channelAction';\r\n\r\n\r\n\r\nexport default function activeChannel(state = {}, action) {\r\n  switch (action.type) {\r\n  case CHANGE_CHANNEL:\r\n    return {\r\n      name: action.channel.name,\r\n      id: action.channel._id\r\n    };\r\n\r\n  default:\r\n    return state;\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport errorAction from './errorAction';\r\nimport setToken from '../../utils/setToken';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { initialState } from '../store';\r\n\r\nexport const SET_CURRENT_USER = 'SET_CURRENT_USER';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const setCurrentUser = decoded => {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    user: decoded\r\n  };\r\n};\r\nexport const logoutAction = decoded => {\r\n  return {\r\n    type: LOGOUT,\r\n    user: decoded\r\n  };\r\n};\r\nexport const logout = (history) => dispatch => {\r\n  localStorage.removeItem('jwtToken');\r\n\r\n  setToken(false);\r\n  dispatch(logoutAction([]))\r\n  history.push('/')\r\n\r\n}\r\n\r\nexport const login = (r,history) => (dispatch) => {\r\n  console.log(history);\r\n  axios.post('/api/users/login/', {\r\n    password:r.password,\r\n    email:r.email\r\n  })\r\n  .then(res => {\r\n    const { token } = res.data;\r\n    localStorage.setItem('jwtToken', token);\r\n    setToken(token);\r\n\r\n    const decoded = jwt_decode(token);\r\n    dispatch(setCurrentUser(decoded));\r\n    history.push({\r\n    pathname: '/'+decoded.id,\r\n    state: { user: decoded.id }\r\n    }) \r\n  })\r\n  .catch(err => dispatch(errorAction(err)))\r\n}   \r\n\r\nexport const getCurrentUser  = (id) => dispatch => {\r\n  axios.get('/api/users/current/'+id)\r\n  .then(e => dispatch(setCurrentUser(e)))\r\n  .catch(err => console.log(err))\r\n}\r\nexport default {\r\n  logout,\r\n  login,\r\n  getCurrentUser,\r\n\r\n} ","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport LoginForm from './LoginForm';\r\nimport loginAction from 'store/actions/loginAction';\r\nimport { withRouter } from 'react-router'\r\n\r\nclass LoginFormContainer extends Component { \r\n\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tname: '',\r\n\t\t\temail: '', \r\n\t\t\tpassword: '',\r\n\t\t\terrors:{}\r\n\t\t} \r\n\t};    \r\n\r\n\tlogin = () => {\r\n\t\tthis.props.login(this.state,this.props.history);\r\n\t};\r\n\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.errors !== prevProps.errors) {\r\n\t\t\tthis.setState({errors:this.props.errors});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn ( \r\n\t\t\t<Fragment>\r\n\t\t\t<LoginForm \r\n\t\t\terrors={this.state.errors}\r\n\t\t\tformData={this.state} \r\n\t\t\tonChange={v=>this.setState(v)} \r\n\t\t\taction={this.login} />\r\n\t\t\t</Fragment>\r\n\t\t\t);\r\n\t}\r\n}\r\nfunction mapStateToProps (state) {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\terrors:state.error\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tlogin: (state,history) => dispatch(loginAction.login(state,history))\r\n\t}\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoginFormContainer));\r\n","import React, { Component } from 'react';\r\nimport LoginFormContainer from 'components/login/LoginFormContainer';\r\n\r\nclass LoginPage extends Component {\r\n\r\n  render() {\r\n    return (\r\n        <LoginFormContainer />\r\n    );\r\n  } \r\n}\r\n\r\nexport default LoginPage;\r\n    ","import React, { Component, Fragment } from 'react';\r\nimport MapContainer from 'components/map/MapContainer';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { withRouter } from 'react-router';\r\nimport moment from 'moment';\r\n\r\n\r\nclass Home extends Component { \r\n  render() { \r\n    const {openChat,currentUser,match,books,...rest} = this.props; \r\n    (books||[]).slice(0).sort((a,b)=>new Date(a.created) - new Date(b.created));\r\n    return (\r\n    \t<Fragment >\r\n    \t<div className=\"container\">\r\n    \t\t{books.map(el => <div className=\"col-sm-4 block\">\r\n\t\t\t\t<img style={{width:'200px'}} src={`http://localhost:5000/api/books/${(el.image||{}).filename}`}  />\r\n    \t\t\t{el.title}\r\n    \t\t\t{moment(el.created).format('DD.MM.YYYY HH:mm')}\r\n    \t\t\t</div>)}\r\n    \t\t</div>\r\n      \t\t<MapContainer {...rest} />\r\n    \t\t}\r\n      \t</Fragment>\r\n     );\r\n  } \r\n}\r\n\r\n\r\nexport default withRouter(Home); ","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Home from './Home';\r\nimport userAction from 'store/actions/userAction';\r\nimport loginAction from 'store/actions/loginAction';\r\nimport channelAction from 'store/actions/channelAction';\r\nimport booksAction from 'store/actions/booksAction';\r\n\r\nimport { withRouter } from 'react-router';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\n\r\nclass HomeContainer extends Component { \r\n\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\taction:null,\r\n\t\t\tredirect:false,\r\n\t\t\tdisplayInfo:null\r\n\t\t} \r\n\t};    \r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.props.getUsersList();\r\n\t\tthis.props.getBooksList();\r\n\r\n\t}\r\n\r\n\tclick = (i) => {\r\n\t\tthis.setState(prevState => ({displayInfo:prevState.displayInfo === i ? null : i}))\r\n\t}\r\n\tredirectToProfile = (user,userId) => {\r\n\t\tthis.props.history.push( {pathname: `profile/${user}`,\r\n\t\t\tstate: { id: userId }});\r\n\r\n\t}\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.user !== prevProps.user && this.props.user!==null) {\r\n\t\t\t//socket.emit('connectedUser',(this.props.user.user||{}).id);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\topenChat =() => {\r\n\t\tconst initLobby = {\r\n\t\t\tname: \"Lobby\",\r\n\t\t\tid: 0,\r\n\t\t\tprivate: false\r\n\t\t};\r\n\t\tthis.props.createChannel(initLobby);\r\n\t}\r\n\trender() { \r\n\t\tconst {users,match,books} = this.props; \r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n{/*\t\t\t<Home books={books} currentUser={this.props.user.user} openChat={this.openChat}\r\n\t\t\tlocations={(users||[]).length>0 ? \r\n\t\t\t\t(users||[]).filter(e =>e.location!==undefined).map((e,index) => (e.location.slice(1, -1).split(',')).concat(e))\r\n\t\t\t\t: []} logout={this.props.logout}\r\n\t\t\t\tclick={this.click} match={match} redirectToProfile={this.redirectToProfile}\r\n\t\t\t\tdisplayInfo={this.state.displayInfo}  />*/}\r\n\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t} \r\n}\r\n \r\nfunction mapStateToProps (state) {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser:state.user,\r\n\t\tusers:state.users,\r\n\t\tregistartionAction:state.registartionAction,\r\n\t\tbooks:state.books,\r\n\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tgetCurrentUser: () => dispatch(userAction.getCurrentUser()),\r\n\t\tlogout: () => dispatch(loginAction.logout()),\r\n\t\tgetUsersList: () => dispatch(userAction.getUsersList()),\r\n\t\tcreateChannel: (a) => dispatch(channelAction.createChannel(a)),\r\n\t\tgetBooksList: (r) => dispatch(booksAction.getBooksList(r)),\r\n\r\n\r\n\r\n\t} \r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(HomeContainer));\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass TopBar extends Component {\r\n\r\n  componentDidMount(){\r\n    if (this.props.token) {\r\n      this.props.getCurrentUser();\r\n    }\r\n  } \r\n\r\n  render() {\r\n  const {userName,currentUser,match} = this.props;\r\n  return (\r\n  <nav className=\"user-navbar navbar navbar-default\">\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-xs-12\">\r\n          <div className=\"navbar-header\">\r\n            <button type=\"button\" className=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\">\r\n              <span className=\"glyphicon glyphicon-menu-hamburger\"></span>\r\n            </button>\r\n          </div>\r\n          <div id=\"navbar\" className=\"navbar-collapse collapse\">\r\n   {/*         {Object.keys((currentUser||{})).length > 0 ?\r\n            <ul className=\"navLinks nav navbar-nav\">\r\n              <li>name: {(currentUser||{}).name}</li>\r\n              <Link to={`${match.path}${(currentUser||{})._id}`}>HOME</Link>\r\n              <Link to={`${match.path}${(currentUser||{})._id}/myBooks`}>my books</Link>\r\n                <Link to={`${match.path}${(currentUser||{})._id}/planner/`}>planner</Link>\r\n  \r\n              <li style={{cursor:'pointer'}} onClick={this.props.logout}>\r\n                logOut\r\n              </li> \r\n            </ul>\r\n            :\r\n            <ul className=\"nav navbar-nav button-holder\">\r\n              <Link  to={`${match.path}login`}>Login</Link>\r\n              <Link to={`registration`}>Register</Link>\r\n            </ul>}*/}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n  );\r\n  }\r\n}\r\n\r\nexport default withRouter(TopBar);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport TopBar from './TopBar';\r\nimport loginAction from 'store/actions/loginAction';\r\nimport { withRouter } from 'react-router-dom'\r\nimport userAction from 'store/actions/userAction';\r\n\r\nclass TopBarContainer extends Component {\r\n\r\n  componentDidMount(){\r\n   this.props.getUsersList()\r\n  } \r\n\r\n  render() {\r\n    console.log(this.props.location.pathname.split('/')[1]);\r\n    return (\r\n      <TopBar currentUser={this.props.user} \r\n      logout={()=>this.props.logout(this.props.history)}/>\r\n    );\r\n  }\r\n} \r\n\r\nfunction mapStateToProps(state,ownProps) {\r\n  return {\r\n  //  user: (state.users||[]).find(el => el._id === (ownProps.location.pathname.split('/')[1]))\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  return {\r\n    logout: (history)=>dispatch(loginAction.logout(history)),\r\n    getCurrentUser: (id)=>dispatch(loginAction.getCurrentUser(id)),\r\n    getUsersList: () => dispatch(userAction.getUsersList())\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TopBarContainer));\r\n","import React, { Component, Fragment } from 'react';\r\nimport HomeContainer from 'components/home/HomeContainer';\r\nimport TopBarContainer from 'components/topBar/TopBarContainer'\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass HomePage extends Component {\r\n\r\n\trender() {\r\n    const {match} = this.props;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Link to={`/login`}>Login</Link>\r\n\t\t\t\t<Link to={`registration`}>Register</Link>\r\n\t\t\t\t<HomeContainer action={(this.props.location.state||{}).action} />\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t} \r\n}\r\n\r\nexport default HomePage;\r\n","import React, { Component } from 'react';\r\nimport TopBarContainer from 'components/topBar/TopBarContainer'\r\n\r\nclass UserPage extends Component {\r\n  render() {\r\n    console.log(this.props.match);\r\n    return (\r\n      <div className=\"userPage\" style={{padding:'0px'}}>\r\n        <TopBarContainer/>\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-xs-12\">\r\n            <div className=\"content-holder\">\r\n              {this.props.children}\r\n              </div>\r\n            </div>\r\n          </div> \r\n        </div>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default UserPage;\r\n ","import React, { Component } from 'react';\r\nimport Form from 'components/common/form/Form';  \r\n\r\n\r\nclass MyBooks extends Component {\r\n\r\n\r\n\trender() {\r\n\t\tconst {formData,onChange,imageSelectedHandler,action,books} = this.props;\r\n\t\tconsole.log(books);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Form\r\n\t\t\t\tformData={formData} \r\n\t\t\t\tonChange={onChange}  \r\n\t\t\t\tschema={[\r\n\t\t\t\t\t{name:'title', path:'title'}, \r\n\t\t\t\t\t{name:'author', path:'author'},\r\n\t\t\t\t\t{name:'description', path:'description'},\r\n\t\t\t\t\t{name:'isbn', path:'isbn'},\r\n\r\n\t\t\t\t\t]} \r\n\t\t\t\t\t/>\r\n\t\t\t\t<div className=\"imgUploadContainer\">\r\n\t\t\t\t<span>uploadImage</span>\r\n\t\t\t\t\t<label htmlFor=\"file-upload\" className=\"custom-file-upload\">\r\n\t\t\t\t\t\t<input id=\"file-upload\" type=\"file\" name=\"image\" onChange={imageSelectedHandler} />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button onClick={action}>create</button>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t{books ? books.map(el => <div>\r\n\t\t\t\t\t\t<div>title:{el.title}</div>\r\n\t\t\t\t\t\t<div>description:{el.description}</div>\r\n\r\n\t\t\t\t\t\t<img style={{width:'200px'}} src={`http://localhost:5000/api/books/${(el.image||{}).filename}`}  />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default MyBooks;\r\n","import React, { Component } from 'react';\r\nimport MyBooks from './MyBooks';\r\nimport { connect } from 'react-redux';\r\nimport booksAction from 'store/actions/booksAction';\r\nimport loginAction from 'store/actions/loginAction';\r\n\r\n\r\nclass MyBooksContainer extends Component {\r\n\r\n\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\ttitle:'',\r\n\t\t\tauthor:'',\r\n\t\t\tdescription:'',\r\n\t\t\tisbn:'',\r\n\t\t\timage:''\r\n\r\n\t\t} \r\n\t};     \r\n\tcomponentDidMount(){\r\n\t\tthis.props.getBooksList();\r\n\t\tthis.props.getCurrentUser();\r\n\t}\r\n\timageSelectedHandler = (event) => {\r\n\t\tthis.setState({image:event.target.files[0]})\r\n\t}\r\n\tcreateBook = () => {\r\n\t\tthis.props.createBook(this.state, new Date())\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {books} = this.props;\r\n\t\tconsole.log(books);\r\n\t\treturn (\r\n\t\t\t<MyBooks formData={this.state} books={books}\r\n\t\t\tonChange={v=>this.setState(v)} \r\n\t\t\taction={this.createBook} imageSelectedHandler={this.imageSelectedHandler} />\r\n\t\t\t);\r\n\t} \r\n}\r\n\r\nfunction mapStateToProps (state,ownProps) {\r\n\tconsole.log(ownProps);\r\n\treturn {\r\n\t\tregistartionAction:state.registartionAction,\r\n\t\tbooks:state.books.filter(e => e.user === (ownProps.location.pathname.split('/')[1])),\r\n\t\tbook:state.book,\r\n\t\tuser:state.user\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tcreateBook: (r,date) => dispatch(booksAction.createBook(r,date)),\r\n\t\tgetBooksList: (r) => dispatch(booksAction.getBooksList(r)),\r\n\t\tgetCurrentUser: (r) => dispatch(loginAction.getCurrentUser(r)),\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyBooksContainer);\r\n\r\n","import React, { Component } from 'react';\r\nimport MyBooksContainer from 'components/myBooks/MyBooksContainer';\r\n\r\nclass MyBooksPage extends Component {\r\n\r\n  render() {\r\n  \tconsole.log(\"sfjfkdj\");\r\n    return (\r\n        <MyBooksContainer location={this.props.location}/>\r\n    );\r\n  } \r\n}\r\n\r\nexport default MyBooksPage;\r\n    ","import React, { Component } from 'react';\r\n\r\nclass Profile extends Component {\r\n  render() {\r\n    const {user} = this.props;\r\n\r\n    return (\r\n      <div>\r\n\r\n      {(user||{}).books ? (user||{}).books.map(el => <div>\r\n        <div>title:{el.title}</div>\r\n        <div>description:{el.description}</div>\r\n        <img style={{width:'200px'}} src={`http://localhost:5000/api/books/${(el.image||{}).filename}`}  />\r\n        </div>\r\n        ) : null}\r\n      </div>\r\n      );\r\n  } \r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\n\r\nclass ProfileContainer extends Component {\r\n\r\n  render() {\r\n  \tconst {user} = this.props;\r\n  \tconsole.log(user);\r\n    return (\r\n        <Profile user={user} />\r\n    );\r\n  } \r\n}\r\n\r\n\r\nfunction mapStateToProps (state,ownProps) {\r\n\treturn {\r\n\t\tuser:state.users.find(e => e._id === ownProps.userId),\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\r\n\r\n\r\n\t} \r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileContainer);\r\n     ","import React, { Component } from 'react';\r\nimport ProfileContainer from 'components/profile/ProfileContainer';\r\n\r\nclass ProfilePage extends Component {\r\n\r\n  render() {\r\n    return (\r\n        <ProfileContainer userId={(this.props.location.state||{}).id} />\r\n    );\r\n  } \r\n}\r\n\r\nexport default ProfilePage;\r\n     ","import React, { Component } from 'react';\r\nimport Form from 'components/common/form/Form';  \r\n\r\nclass ChatDetail extends Component {\r\n\r\n\trender() {\r\n\t\tconst {formData,onChange,action} = this.props;\r\n\t\treturn (\r\n\r\n\t\t\t<div>\r\n\t\t\t<Form\r\n\t\t\tformData={formData} \r\n\t\t\tonChange={onChange}  \r\n\t\t\tschema={[\r\n\t\t\t\t{name:'chatMsg', path:'chatMsg'}, \r\n\t\t\t\t{name:'msgBy', path:'msgBy'},\r\n\t\t\t\t]} \r\n\t\t\t\t/>\r\n\t\t\t\t<button onClick={()=>{action()}}>send</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t} \r\n}\r\n\r\nexport default (ChatDetail);\r\n","import React, { Component } from 'react';\r\nimport ChatRoomContainer from 'components/chatRoom/ChatRoomContainer';\r\n\r\nclass ChatPage extends Component {\r\n\r\n  render() {\r\n    return (\r\n        <ChatRoomContainer location={this.props.location} />\r\n    );\r\n  } \r\n}\r\n\r\nexport default ChatPage;\r\n    ","import React, { Component } from 'react';\r\nimport ChatDetail from './ChatDetail';\r\nimport { connect } from 'react-redux';\r\nimport chatAction from 'store/actions/chatAction';\r\n\r\nclass ChatDetailContainer extends Component {\r\n\t\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tchatMsg:'',\r\n\t\t\tmsgBy:''\r\n\t\t} \r\n\t};    \r\n\r\n\tsendMsg = () => {\r\n\t\tthis.props.sendMsg(this.state,this.props.chatId)\r\n\t}\r\n  render() {\r\n    return (\r\n        <ChatDetail formData={this.state} \r\n\t\t\t\tonChange={v=>this.setState(v)} action={this.sendMsg} />\r\n    );\r\n  } \r\n}\r\nfunction mapStateToProps (state,ownProps) {\r\n\treturn {\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\r\n\t\tsendMsg: (data,chatId) => dispatch(chatAction.sendMsg(data,chatId))\r\n\t} \r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatDetailContainer);\r\n     ","import React, { Component } from 'react';\r\nimport ChatDetailContainer from 'components/chatDetail/ChatDetailContainer';\r\n\r\nclass ChatDetailPage extends Component {\r\n\r\n  render() {\r\n    return (\r\n        <ChatDetailContainer chatId={this.props.match.params.chatListId}/>\r\n    );\r\n  } \r\n}\r\n\r\nexport default ChatDetailPage;\r\n    ","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nclass Planner extends Component {\r\n\t\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tbooks:''\r\n\t\t} \r\n\t};    \r\n  componentDidUpdate(prevProps){\r\n    if (prevProps.books!==this.props.books) {\r\n      this.setState({books:this.props.books});\r\n    }\r\n  }\r\n\r\n    onDragStart = (ev, id) => {\r\n    \tconsole.log(ev,id);\r\n    ev.dataTransfer.setData(\"id\", id);\r\n  }\r\n\r\n  onDragOver = (ev) => {\r\n  \tconsole.log(ev);\r\n    ev.preventDefault();\r\n  }\r\n\r\n  onDrop = (ev, cat) => {\r\n    let id = ev.dataTransfer.getData(\"id\");\r\n\r\n    let books = this.state.books.filter((book) => {\r\n      if (book._id == id) {\r\n        book.state = cat;\r\n      }\r\n      return book;\r\n    });\r\n\r\n    this.setState({\r\n      books:books\r\n    });\r\n \r\n    this.props.changed(id,cat)\r\n  }\r\n\r\n\r\n  render() {\r\n   let books = {\r\n      unread: [],\r\n      inProgess:[],\r\n      complete: []\r\n    }\r\n    if(this.state.books.length>0){\r\n    \t(this.state.books||[]).forEach ((t) => {\r\n    (books[t.state]||[]).push(\r\n      <div key={t.id} \r\n          onDragStart = {(e) => this.onDragStart(e, t._id)}\r\n          draggable\r\n          className=\"draggable\"\r\n          style = {{backgroundColor: t.bgcolor}}\r\n          >\r\n          <div> <span className=\"title-sm\">TYTU: </span>{t.title}</div>\r\n    </div>\r\n  );\r\n  }) \r\n    }\r\n    else{\r\n    \tbooks = {}\r\n    }\r\n    console.log(books);\r\n\r\n    return (\r\n         <div className=\"container-drag\">\r\n      <div className=\"wip\"\r\n      onDragOver={(e)=>this.onDragOver(e)}\r\n      onDrop={(e)=>{this.onDrop(e, \"unread\")}}>\r\n      <span className=\"book-header\">OCZEKUJCE</span>\r\n        {books.unread}\r\n      </div>\r\n      <div className=\"inProgess\"\r\n      onDragOver={(e)=>this.onDragOver(e)}\r\n      onDrop={(e)=>{this.onDrop(e, \"inProgess\")}}>\r\n      <span className=\"book-header\">W TRAKCIE</span>\r\n        {books.inProgess}\r\n      </div>\r\n      <div className=\"droppable\" \r\n      onDragOver={(e)=>this.onDragOver(e)}\r\n      onDrop={(e)=>this.onDrop(e, \"complete\")}>\r\n      <span className=\"book-header\">GOTOWE</span>\r\n        {books.complete}\r\n      </div>\r\n    </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Planner;\r\n     ","import React, { Component } from 'react';\r\nimport Planner from './Planner';\r\nimport { connect } from 'react-redux';\r\nimport booksAction from 'store/actions/booksAction';\r\n\r\n\r\nclass PlannerContainer extends Component {\r\n\t\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tchatMsg:'',\r\n\t\t\tmsgBy:''\r\n\t\t} \r\n\t};    \r\n\tcomponentDidMount(){\r\n\t\tthis.props.getBooksList();\r\n\t}\r\n\t  changed = (id,status) => {\r\n\t this.props.updateBookStatus(id,status)\r\n  }\r\n  render() {\r\n  \tconst {books} = this.props;\r\n    return (\r\n        <Planner changed={this.changed} books={books}/>\r\n    );\r\n  } \r\n}\r\nfunction mapStateToProps (state,ownProps) {\r\n\treturn {\r\n\t\tbooks:state.books.filter(e => e.user === (ownProps.location.pathname.split('/')[1])),\r\n\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tgetBooksList: (r) => dispatch(booksAction.getBooksList(r)),\r\n\t\tupdateBookStatus: (id,status) => dispatch(booksAction.updateBookStatus(id,status)),\r\n\t\r\n\t} \r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlannerContainer);\r\n     ","import React, { Component } from 'react';\r\nimport PlannerContainer from 'components/planner/PlannerContainer';\r\n\r\nclass PlannerPage extends Component {\r\n\r\n  render() {\r\n    return (\r\n        <PlannerContainer location={this.props.location} />\r\n    );\r\n  } \r\n}\r\n\r\nexport default PlannerPage;\r\n     ","import React, { Component } from 'react';\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport HomePage from '../common/home/HomePage';\r\nimport UserPage from './userPage/UserPage';\r\nimport MyBooksPage from './myBooks/MyBooksPage';\r\nimport ProfilePage from '../common/profile/ProfilePage';\r\nimport ChatPage from './chat/ChatPage';\r\nimport ChatDetailPage from './chatDetail/ChatDetailPage';\r\nimport PlannerPage from './planner/PlannerPage';\r\n\r\n\r\n\r\nclass UserIndex extends Component { \r\n  render() {\r\n    const {path} = this.props.match;\r\n  \r\n    return (\r\n      <div> \r\n      <UserPage> \r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomePage} />\r\n          <Route exact path=\"/:user\" component={HomePage} />\r\n          <Route exact path=\"/:user/myBooks\" component={MyBooksPage} />\r\n{/*          <Route exact path=\"/:user/chat\" component={ChatPage} />\r\n*/}          <Route exact path=\"/:user/planner\" component={PlannerPage} />\r\n          <Route exact path=\"/profile/:user\" component={ProfilePage} />\r\n          <Route exact path={`/chatDetail/:chatListId`} component={ChatDetailPage} />\r\n\r\n        </Switch>\r\n      </UserPage>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default UserIndex;\r\n   ","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport RegistrationPage from './common/registration/RegistrationPage';\r\nimport LoginPage from './common/login/LoginPage';\r\nimport UserIndex from './user/UserIndex';\r\n\r\n\r\nclass Router extends Component { \r\n  render() {\r\n    return (\r\n      <BrowserRouter basename='/build'>\r\n        <Switch>\r\n          <Route path=\"/registration/\" component={RegistrationPage} />\r\n          <Route path=\"/login/\" component={LoginPage} />\r\n          <Route path=\"/\" component={UserIndex} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    );\r\n  } \r\n}  \r\n\r\nexport default Router;\r\n            ","import React, { Component } from 'react';\nimport Router from 'pages/Router';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router/>\n   );\n  }\n}\n\n\nexport default App;\n   ","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/css/index.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport {store,persistor } from './store/store.js';\nimport { PersistGate } from 'redux-persist/integration/react'\n\n \nReactDOM.render(\n  <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n      <span>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"\n          integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\"\n          crossOrigin=\"anonymous\"/>\n        <App />\n      </span> \n    </PersistGate>\n  </Provider>,\n  document.getElementById('root'));\nserviceWorker.unregister();\n  "],"sourceRoot":""}